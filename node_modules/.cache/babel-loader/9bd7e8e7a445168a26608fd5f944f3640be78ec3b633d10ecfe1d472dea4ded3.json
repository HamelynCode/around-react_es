{"ast":null,"code":"import _classCallCheck from\"C:/Users/legio/Desktop/around-react_es/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/legio/Desktop/around-react_es/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var user=_ref.user,url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);this._user=user;this._url=url;this._headers=headers;}_createClass(Api,[{key:\"_makeRequest\",value:function _makeRequest(method,url,body){return fetch(\"\".concat(this._url).concat(url),{method:method,headers:this._headers,body:method!==\"GET\"?JSON.stringify(body):undefined}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.statusText));});}},{key:\"getUserInfo\",value:function getUserInfo(){return this._makeRequest(\"GET\",\"/users/\".concat(this._user));}},{key:\"getInitialCards\",value:function getInitialCards(){return this._makeRequest(\"GET\",\"/cards\");}},{key:\"editProfile\",value:function editProfile(name,about){return this._makeRequest(\"PATCH\",\"/users/\".concat(this._user),{name:name,about:about});}},{key:\"addNewCard\",value:function addNewCard(name,url){return this._makeRequest(\"POST\",\"/cards\",{name:name,link:url});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._makeRequest(\"DELETE\",\"/cards/\".concat(cardId));}},{key:\"addNewLike\",value:function addNewLike(cardId){return this._makeRequest(\"PUT\",\"/cards/likes/\".concat(cardId));}},{key:\"removeLike\",value:function removeLike(cardId){return this._makeRequest(\"DELETE\",\"/cards/likes/\".concat(cardId));}},{key:\"setProfileImage\",value:function setProfileImage(url){return this._makeRequest(\"PATCH\",\"/users/\".concat(this._user,\"/avatar\"),{avatar:url});}}]);return Api;}();var api=new Api({user:'me',url:'https://around.nomoreparties.co/v1/web_es_cohort_02',headers:{authorization:'43821f01-4b26-43b6-994f-72bfc960dac4','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","user","url","headers","_user","_url","_headers","method","body","fetch","JSON","stringify","undefined","then","res","ok","json","Promise","reject","statusText","_makeRequest","name","about","link","cardId","avatar","api","authorization"],"sources":["C:/Users/legio/Desktop/around-react_es/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ user, url, headers }) {\r\n    this._user = user;\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _makeRequest(method, url, body) {\r\n    return fetch(`${this._url}${url}`, {\r\n      method: method,\r\n      headers: this._headers,\r\n      body: method !== \"GET\" ? JSON.stringify(body) : undefined,\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Error: ${res.statusText}`);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._makeRequest(\"GET\", `/users/${this._user}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._makeRequest(\"GET\", \"/cards\");\r\n  }\r\n\r\n  editProfile(name, about) {\r\n    return this._makeRequest(\"PATCH\", `/users/${this._user}`, {\r\n      name: name,\r\n      about: about,\r\n    });\r\n  }\r\n\r\n  addNewCard(name, url) {\r\n    return this._makeRequest(\"POST\", `/cards`, {\r\n      name: name,\r\n      link: url,\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._makeRequest(\"DELETE\", `/cards/${cardId}`);\r\n  }\r\n\r\n  addNewLike(cardId) {\r\n    return this._makeRequest(\"PUT\", `/cards/likes/${cardId}`);\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return this._makeRequest(\"DELETE\", `/cards/likes/${cardId}`);\r\n  }\r\n\r\n  setProfileImage(url) {\r\n    return this._makeRequest(\"PATCH\", `/users/${this._user}/avatar`, {\r\n      avatar: url,\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  user: 'me',\r\n  url: 'https://around.nomoreparties.co/v1/web_es_cohort_02',\r\n  headers: {\r\n    authorization: '43821f01-4b26-43b6-994f-72bfc960dac4',\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"yPAAMA,IAAG,yBACP,kBAAoC,IAAtBC,KAAI,MAAJA,IAAI,CAAEC,GAAG,MAAHA,GAAG,CAAEC,OAAO,MAAPA,OAAO,2BAC9B,IAAI,CAACC,KAAK,CAAGH,IAAI,CACjB,IAAI,CAACI,IAAI,CAAGH,GAAG,CACf,IAAI,CAACI,QAAQ,CAAGH,OAAO,CACzB,CAAC,4CAED,sBAAaI,MAAM,CAAEL,GAAG,CAAEM,IAAI,CAAE,CAC9B,MAAOC,MAAK,WAAI,IAAI,CAACJ,IAAI,SAAGH,GAAG,EAAI,CACjCK,MAAM,CAAEA,MAAM,CACdJ,OAAO,CAAE,IAAI,CAACG,QAAQ,CACtBE,IAAI,CAAED,MAAM,GAAK,KAAK,CAAGG,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,CAAGI,SAClD,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CACf,MAAOA,IAAG,CAACC,EAAE,CAAGD,GAAG,CAACE,IAAI,EAAE,CAAGC,OAAO,CAACC,MAAM,kBAAWJ,GAAG,CAACK,UAAU,EAAG,CACzE,CAAC,CAAC,CACJ,CAAC,2BAED,sBAAc,CACZ,MAAO,KAAI,CAACC,YAAY,CAAC,KAAK,kBAAY,IAAI,CAAChB,KAAK,EAAG,CACzD,CAAC,+BAED,0BAAkB,CAChB,MAAO,KAAI,CAACgB,YAAY,CAAC,KAAK,CAAE,QAAQ,CAAC,CAC3C,CAAC,2BAED,qBAAYC,IAAI,CAAEC,KAAK,CAAE,CACvB,MAAO,KAAI,CAACF,YAAY,CAAC,OAAO,kBAAY,IAAI,CAAChB,KAAK,EAAI,CACxDiB,IAAI,CAAEA,IAAI,CACVC,KAAK,CAAEA,KACT,CAAC,CAAC,CACJ,CAAC,0BAED,oBAAWD,IAAI,CAAEnB,GAAG,CAAE,CACpB,MAAO,KAAI,CAACkB,YAAY,CAAC,MAAM,UAAY,CACzCC,IAAI,CAAEA,IAAI,CACVE,IAAI,CAAErB,GACR,CAAC,CAAC,CACJ,CAAC,0BAED,oBAAWsB,MAAM,CAAE,CACjB,MAAO,KAAI,CAACJ,YAAY,CAAC,QAAQ,kBAAYI,MAAM,EAAG,CACxD,CAAC,0BAED,oBAAWA,MAAM,CAAE,CACjB,MAAO,KAAI,CAACJ,YAAY,CAAC,KAAK,wBAAkBI,MAAM,EAAG,CAC3D,CAAC,0BAED,oBAAWA,MAAM,CAAE,CACjB,MAAO,KAAI,CAACJ,YAAY,CAAC,QAAQ,wBAAkBI,MAAM,EAAG,CAC9D,CAAC,+BAED,yBAAgBtB,GAAG,CAAE,CACnB,MAAO,KAAI,CAACkB,YAAY,CAAC,OAAO,kBAAY,IAAI,CAAChB,KAAK,YAAW,CAC/DqB,MAAM,CAAEvB,GACV,CAAC,CAAC,CACJ,CAAC,mBAGH,GAAMwB,IAAG,CAAG,GAAI1B,IAAG,CAAC,CAClBC,IAAI,CAAE,IAAI,CACVC,GAAG,CAAE,qDAAqD,CAC1DC,OAAO,CAAE,CACPwB,aAAa,CAAE,sCAAsC,CACrD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}