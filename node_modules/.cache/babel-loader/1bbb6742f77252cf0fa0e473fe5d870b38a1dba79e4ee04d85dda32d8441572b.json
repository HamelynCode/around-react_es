{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      user,\n      url,\n      headers\n    } = _ref;\n    this._user = user;\n    this._url = url;\n    this._headers = headers;\n  }\n  _makeRequest(method, url, body) {\n    return fetch(`${this._url}${url}`, {\n      method: method,\n      headers: this._headers,\n      body: method !== \"GET\" ? JSON.stringify(body) : undefined\n    }).then(res => {\n      return res.ok ? res.json() : Promise.reject(`Error: ${res.statusText}`);\n    });\n  }\n  getUserInfo() {\n    return this._makeRequest(\"GET\", `/users/${this._user}`);\n  }\n  getInitialCards() {\n    return this._makeRequest(\"GET\", \"/cards\");\n  }\n  editProfile(name, about) {\n    return this._makeRequest(\"PATCH\", `/users/${this._user}`, {\n      name: name,\n      about: about\n    });\n  }\n  addNewCard(name, url) {\n    return this._makeRequest(\"POST\", `/cards`, {\n      name: name,\n      link: url\n    });\n  }\n  deleteCard(cardId) {\n    return this._makeRequest(\"DELETE\", `/cards/${cardId}`);\n  }\n  addNewLike(cardId) {\n    return this._makeRequest(\"PUT\", `/cards/likes/${cardId}`);\n  }\n  removeLike(cardId) {\n    return this._makeRequest(\"DELETE\", `/cards/likes/${cardId}`);\n  }\n  setProfileImage(url) {\n    return this._makeRequest(\"PATCH\", `/users/${this._user}/avatar`, {\n      avatar: url\n    });\n  }\n}\nconst api = new Api({\n  user: 'me',\n  url: 'https://around.nomoreparties.co/v1/web_es_cohort_02',\n  headers: {\n    authorization: '43821f01-4b26-43b6-994f-72bfc960dac4',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","user","url","headers","_user","_url","_headers","_makeRequest","method","body","fetch","JSON","stringify","undefined","then","res","ok","json","Promise","reject","statusText","getUserInfo","getInitialCards","editProfile","name","about","addNewCard","link","deleteCard","cardId","addNewLike","removeLike","setProfileImage","avatar","api","authorization"],"sources":["C:/Users/legio/Desktop/around-react_es/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ user, url, headers }) {\r\n    this._user = user;\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _makeRequest(method, url, body) {\r\n    return fetch(`${this._url}${url}`, {\r\n      method: method,\r\n      headers: this._headers,\r\n      body: method !== \"GET\" ? JSON.stringify(body) : undefined,\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Error: ${res.statusText}`);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._makeRequest(\"GET\", `/users/${this._user}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._makeRequest(\"GET\", \"/cards\");\r\n  }\r\n\r\n  editProfile(name, about) {\r\n    return this._makeRequest(\"PATCH\", `/users/${this._user}`, {\r\n      name: name,\r\n      about: about,\r\n    });\r\n  }\r\n\r\n  addNewCard(name, url) {\r\n    return this._makeRequest(\"POST\", `/cards`, {\r\n      name: name,\r\n      link: url,\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._makeRequest(\"DELETE\", `/cards/${cardId}`);\r\n  }\r\n\r\n  addNewLike(cardId) {\r\n    return this._makeRequest(\"PUT\", `/cards/likes/${cardId}`);\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return this._makeRequest(\"DELETE\", `/cards/likes/${cardId}`);\r\n  }\r\n\r\n  setProfileImage(url) {\r\n    return this._makeRequest(\"PATCH\", `/users/${this._user}/avatar`, {\r\n      avatar: url,\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  user: 'me',\r\n  url: 'https://around.nomoreparties.co/v1/web_es_cohort_02',\r\n  headers: {\r\n    authorization: '43821f01-4b26-43b6-994f-72bfc960dac4',\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,MAAMA,GAAG,CAAC;EACRC,WAAW,OAAyB;IAAA,IAAxB;MAAEC,IAAI;MAAEC,GAAG;MAAEC;IAAQ,CAAC;IAChC,IAAI,CAACC,KAAK,GAAGH,IAAI;IACjB,IAAI,CAACI,IAAI,GAAGH,GAAG;IACf,IAAI,CAACI,QAAQ,GAAGH,OAAO;EACzB;EAEAI,YAAY,CAACC,MAAM,EAAEN,GAAG,EAAEO,IAAI,EAAE;IAC9B,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACL,IAAK,GAAEH,GAAI,EAAC,EAAE;MACjCM,MAAM,EAAEA,MAAM;MACdL,OAAO,EAAE,IAAI,CAACG,QAAQ;MACtBG,IAAI,EAAED,MAAM,KAAK,KAAK,GAAGG,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,GAAGI;IAClD,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;MACf,OAAOA,GAAG,CAACC,EAAE,GAAGD,GAAG,CAACE,IAAI,EAAE,GAAGC,OAAO,CAACC,MAAM,CAAE,UAASJ,GAAG,CAACK,UAAW,EAAC,CAAC;IACzE,CAAC,CAAC;EACJ;EAEAC,WAAW,GAAG;IACZ,OAAO,IAAI,CAACd,YAAY,CAAC,KAAK,EAAG,UAAS,IAAI,CAACH,KAAM,EAAC,CAAC;EACzD;EAEAkB,eAAe,GAAG;IAChB,OAAO,IAAI,CAACf,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC;EAC3C;EAEAgB,WAAW,CAACC,IAAI,EAAEC,KAAK,EAAE;IACvB,OAAO,IAAI,CAAClB,YAAY,CAAC,OAAO,EAAG,UAAS,IAAI,CAACH,KAAM,EAAC,EAAE;MACxDoB,IAAI,EAAEA,IAAI;MACVC,KAAK,EAAEA;IACT,CAAC,CAAC;EACJ;EAEAC,UAAU,CAACF,IAAI,EAAEtB,GAAG,EAAE;IACpB,OAAO,IAAI,CAACK,YAAY,CAAC,MAAM,EAAG,QAAO,EAAE;MACzCiB,IAAI,EAAEA,IAAI;MACVG,IAAI,EAAEzB;IACR,CAAC,CAAC;EACJ;EAEA0B,UAAU,CAACC,MAAM,EAAE;IACjB,OAAO,IAAI,CAACtB,YAAY,CAAC,QAAQ,EAAG,UAASsB,MAAO,EAAC,CAAC;EACxD;EAEAC,UAAU,CAACD,MAAM,EAAE;IACjB,OAAO,IAAI,CAACtB,YAAY,CAAC,KAAK,EAAG,gBAAesB,MAAO,EAAC,CAAC;EAC3D;EAEAE,UAAU,CAACF,MAAM,EAAE;IACjB,OAAO,IAAI,CAACtB,YAAY,CAAC,QAAQ,EAAG,gBAAesB,MAAO,EAAC,CAAC;EAC9D;EAEAG,eAAe,CAAC9B,GAAG,EAAE;IACnB,OAAO,IAAI,CAACK,YAAY,CAAC,OAAO,EAAG,UAAS,IAAI,CAACH,KAAM,SAAQ,EAAE;MAC/D6B,MAAM,EAAE/B;IACV,CAAC,CAAC;EACJ;AACF;AAEA,MAAMgC,GAAG,GAAG,IAAInC,GAAG,CAAC;EAClBE,IAAI,EAAE,IAAI;EACVC,GAAG,EAAE,qDAAqD;EAC1DC,OAAO,EAAE;IACPgC,aAAa,EAAE,sCAAsC;IACrD,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEF,eAAeD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}